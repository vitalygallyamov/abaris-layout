/*! baron 15-08-2013 */
(function(t,i){"use strict";function e(i,e,s){i._eventHandlers=i._eventHandlers||[{element:i.scroller,handler:function(t){i.scroll(t)},type:"scroll"},{element:i.bar,handler:function(t){t.preventDefault(),i.selection(),i.drag.now=1},type:"touchstart mousedown"},{element:document,handler:function(){i.selection(1),i.drag.now=0},type:"mouseup blur touchend"},{element:document,handler:function(t){2!=t.button&&i._pos0(t)},type:"touchstart mousedown"},{element:document,handler:function(t){i.drag.now&&i.drag(t)},type:"mousemove touchmove"},{element:t,handler:function(){i.update()},type:"resize"},{element:i.root,handler:function(){i.update()},type:"sizeChange"}],f(i._eventHandlers,function(t){t.element&&e(t.element,t.type,t.handler,s)})}function s(t,i,e){var s="data-baron-"+i;if("on"==e)t.setAttribute(s,"inited");else{if("off"!=e)return t.getAttribute(s);t.removeAttribute(s)}}function r(t){if(!s(t.root,t.direction)){var i=new p.prototype.constructor(t);return e(i,t.event,"on"),s(i.root,t.direction,"on"),i.update(),i}}function o(t){var i={};t=t||{};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function n(t){var i=o(t);i.direction=i.direction||"v";var e=t.event||function(t,e,s,r){i.$(t)[r||"on"](e,s)};return i.event=function(t,i,s,r){f(t,function(t){e(t,i,s,r)})},i}function l(t){if(this.events&&this.events[t])for(var i=0;this.events[t].length>i;i++)this.events[t][i].apply(this,Array.prototype.slice.call(arguments,1))}if(t){var c=t.baron,h=t.jQuery,a={v:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},f=function(e,s){var r=0;for((e.length===i||e===t)&&(e=[e]);e[r];)s.call(this,e[r],r),r++},u=function(i){var e,s,r=this&&this[0]&&this[0].nodeType;return i=i||{},s=i.$||t.jQuery,r?i.root=e=this:e=s(i.root||i.scroller),new u.fn.constructor(e,i,s)};u.fn={constructor:function(t,i,e){var s=n(i);s.$=e,f.call(this,t,function(t,i){var e=o(s);s.root&&s.scroller?(e.scroller=s.$(s.scroller,t),e.scroller.length||(e.scroller=t)):e.scroller=t,e.root=t,this[i]=r(e),this.length=i+1}),this.params=s},dispose:function(){var t=this.params;f(this,function(i){i.dispose(t)}),this.params=null},update:function(){for(var t=0;this[t];)this[t++].update()},baron:function(t){return t.root=[],t.scroller=this.params.scroller,f.call(this,this,function(i){t.root.push(i.root)}),t.direction="v"==this.params.direction?"h":"v",t._chain=!0,u(t)}};var p={};p.prototype={constructor:function(t){function e(t,i){return f(t,i)[0]}function s(t){var i=this.barMinSize||20;t>0&&i>t&&(t=i),this.bar&&f(this.bar).css(this.origin.size,parseInt(t,10)+"px")}function r(t){this.bar&&f(this.bar).css(this.origin.pos,+t+"px")}function o(){return v[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function n(t){return t*o.call(this)+this.barTopLimit}function c(t){return(t-this.barTopLimit)/o.call(this)}function h(){return!1}var f,u,p,v,d,g,m,b,w;return w=b=(new Date).getTime(),f=this.$=t.$,this.event=t.event,this.events={},this.root=t.root,this.scroller=e(t.scroller),this.bar=e(t.bar,this.root),v=this.track=e(t.track,this.root),!this.track&&this.bar&&(v=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=t.direction,this.origin=a[this.direction],this.barOnCls=t.barOnCls,this.barTopLimit=0,m=1e3*t.pause||0,this.cursor=function(t){return t["client"+this.origin.x]||(((t.originalEvent||t).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(t){var e="page"+this.origin.x+"Offset",s=this.scroller[e]?e:this.origin.scroll;return t!==i&&(this.scroller[s]=t),this.scroller[s]},this.rpos=function(t){var i,e=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];return i=t?this.pos(t*e):this.pos(),i/(e||1)},this.barOn=function(t){this.barOnCls&&(t||this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize]?f(this.root).removeClass(this.barOnCls):f(this.root).addClass(this.barOnCls))},this._pos0=function(t){p=this.cursor(t)-u},this.drag=function(t){this.scroller[this.origin.scroll]=c.call(this,this.cursor(t)-p)*(this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client])},this.selection=function(t){this.event(document,"selectpos selectstart",h,t?"off":"on")},this.resize=function(){function i(){var i=e.scroller[e.origin.crossOffset]-e.scroller[e.origin.crossClient];t.freeze&&!e.clipper.style[e.origin.crossSize]&&f(e.clipper).css(e.origin.crossSize,e.clipper[e.origin.crossClient]-i+"px"),f(e.scroller).css(e.origin.crossSize,e.clipper[e.origin.crossClient]+i+"px"),Array.prototype.unshift.call(arguments,"resize"),l.apply(e,arguments),w=(new Date).getTime()}var e=this,s=0;m>(new Date).getTime()-w&&(clearTimeout(d),s=m),s?d=setTimeout(i,s):i()},this.scroll=function(){function t(){c.bar&&(e=(v[c.origin.client]-c.barTopLimit)*c.scroller[c.origin.client]/c.scroller[c.origin.scrollSize],i!=e&&(s.call(c,e),i=e),u=n.call(c,c.rpos()),r.call(c,u)),Array.prototype.unshift.call(arguments,"scroll"),l.apply(c,arguments),b=(new Date).getTime()}var i,e,o=0,c=this;m>(new Date).getTime()-b&&(clearTimeout(g),o=m),o?g=setTimeout(t,o):t()},this},update:function(){return this.resize(1),this.barOn(),this.scroll(),this},dispose:function(t){e(this,this.event,"off"),s(this.root,t.direction,"off"),h(this.scroller).css(this.origin.crossSize,""),this.barOn(!0),l.call(this,"dispose")},on:function(t,i,e){for(var s=t.split(" "),r=0;s.length>r;r++)"init"==s[r]?i.call(this,e):(this.events[s[r]]=this.events[s[r]]||[],this.events[s[r]].push(function(){i.call(this,e)}))}},u.fn.constructor.prototype=u.fn,p.prototype.constructor.prototype=p.prototype,u.noConflict=function(){return t.baron=c,u},u.version="0.6.5",h&&h.fn&&(h.fn.baron=u),t.baron=u,t.module&&module.exports&&(module.exports=u.noConflict())}})(window),function(t,e){var s=function(t){function s(t,i){(p||0)>u&&(i=e),i!==e?(i+="px",this.$(n[t]).css(this.origin.pos,i).addClass(l)):this.$(n[t]).css(this.origin.pos,"").removeClass(l)}function r(t){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(t.originalEvent.wheelDeltaX,t.originalEvent.wheelDeltaY),m.dispatchEvent(i),t.preventDefault()}catch(t){}}function o(i){var e;if(i&&(a=i.elements,l=i.outside+"",c=i.before+"",h=i.after+"",f=i.radius||0,p=i.minView||0,v=i.limiter),n=this.$(a,this.scroller)){u=this.scroller[this.origin.client];for(var s=0;n.length>s;s++)d[s]=d[s-1]||0,n[s-1]&&(d[s]+=n[s-1][this.origin.offset]),e={},e[this.origin.size]=n[s][this.origin.offset],n[s].parentNode!==this.scroller&&this.$(n[s].parentNode).css(e),e={},e[this.origin.crossSize]=n[s].parentNode[this.origin.crossClient],this.$(n[s]).css(e),u-=n[s][this.origin.offset],g[s]=n[s].parentNode[this.origin.offsetPos],(0!=s||0!=g[s])&&(this.event(n[s],"mousewheel",r,"off"),this.event(n[s],"mousewheel",r));v&&n[0]&&(this.track&&this.track!=this.scroller?(e={},e[this.origin.pos]=n[0].parentNode[this.origin.offset],this.$(this.track).css(e)):this.barTopLimit=n[0].parentNode[this.origin.offset],this.scroll())}var o={element:n,handler:function(){for(var i,e=w(this)[0].parentNode,s=e.offsetTop,r=0;n.length>r;r++)n[r]===this&&(i=r);var o=s-d[i];t.scroll?t.scroll({x1:y.scroller.scrollTop,x2:o}):y.scroller.scrollTop=o},type:"click"};t.clickable&&(this._eventHandlers.push(o),b(o.element,o.type,o.handler,"off"),b(o.element,o.type,o.handler,"on"))}var n,l,c,h,a,f,u,p,v,d=[],g=[],m=this.scroller,b=this.event,w=this.$,y=this;this.on("init",o,t),this.on("init scroll",function(){var t,i,r=[];if(n){for(var o,l=0;n.length>l;l++)t=0,g[l]-this.pos()<d[l]+f?(t=1,i=d[l]):g[l]-this.pos()>d[l]+u-f?(t=2,i=d[l]+u):(t=3,i=e),t!=r[l]&&(s.call(this,l,i),r[l]=t,o=!0);if(o)for(l=0;n.length>l;l++)r[l]!=r[l+1]&&1==r[l]&&c?this.$(n[l]).addClass(c).removeClass(h):r[l]!=r[l-1]&&2==r[l]&&h?this.$(n[l]).addClass(h).removeClass(c):this.$(n[l]).removeClass(c).removeClass(h)}}),this.on("resize",function(){o.call(this)})};baron.fn.fix=function(t){for(var i=0;this[i];)s.call(this[i],t),i++;return this}}(window),function(){var t=function(t){var i,e,s,r,o=this;r=t.screen||.9,t.forward&&(i=this.$(t.forward,this.clipper),this.event(i,"click",function(){var i=o.pos()-t.delta||30;o.pos(i)})),t.backward&&(e=this.$(t.backward,this.clipper),this.event(e,"click",function(){var i=o.pos()+t.delta||30;o.pos(i)})),t.track&&(s=t.track===!0?this.track:this.$(t.track,this.clipper)[0],s&&this.event(s,"mousedown",function(t){var i=t["offset"+o.origin.x],e=o.bar[o.origin.offsetPos],s=0;e>i?s=-1:i>e+o.bar[o.origin.offset]&&(s=1);var n=o.pos()+s*r*o.scroller[o.origin.client];o.pos(n)}))};baron.fn.controls=function(i){for(var e=0;this[e];)t.call(this[e],i),e++;return this}}(window),function(){var t=function(t){function i(){return g.scroller[g.origin.scroll]+g.scroller[g.origin.offset]}function e(){return g.scroller[g.origin.scrollSize]}function s(t,i){var e=5e-4*t;return Math.floor(i-e*(t+550))}function r(t){h=t,t?(o(),n=setInterval(o,200)):clearInterval(n)}function o(){var o,n,h={},z=i(),C=e(),$=1==m;n=0,m>0&&(n=40),o=s(w,n),z>=C-w&&m>-1?$&&(w+=o):w=0,0>w&&(w=0),h[f]=w+"px",g.$(a).css(h),d&&w&&g.$(g.root).addClass(d);for(var T=0;v.length>T;T++)g.$(v[T].self).css(v[T].property,Math.min(100*(w/u),100)+"%");0==w&&t.onCollapse&&t.onCollapse(),m=0,l=setTimeout(function(){m=-1},y),p&&w>u&&!c&&(p(),c=!0),0==w?b++:b=0,b>1&&(r(!1),c=!1,d&&g.$(g.root).removeClass(d))}var n,l,c,h,a=this.$(t.block),f=t.size||this.origin.size,u=t.limit||80,p=t.onExpand,v=t.elements||[],d=t.inProgress||"",g=this,m=0,b=0,w=0,y=t.waiting||500;this.on("init",function(){r(!0)}),this.on("dispose",function(){r(!1)}),this.event(this.scroller,"mousewheel DOMMouseScroll",function(t){var s=0>t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||t.detail>0;s&&(m=1,clearTimeout(l),!h&&i()>=e()&&r(!0))})};baron.fn.pull=function(i){for(var e=0;this[e];)t.call(this[e],i),e++;return this}}(window);